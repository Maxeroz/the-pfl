"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3774],{7449:function(e,t,n){n.d(t,{Qc:function(){return v},yV:function(){return Y},_9:function(){return $},Ho:function(){return ee},_v:function(){return ef}});var a=n(52322),s=n(85945),r=n(48228),l=n(62202),i=n(88354),o=n(99248),c=n(22066);async function d(e){let{id:t}=e,n=await (0,i.$v)("".concat(o.T5,"/profile/access-tokens/").concat(t));if(!(0,i.d8)(n))throw n.error;return n}let u=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,s.NL)();return(0,r.D)(e=>d(e),{async onSuccess(t,n,s){await a.invalidateQueries(c.C.list()),await (null==e?void 0:e(t,n,s))},async onError(e,n,a){void 0===t?l.ZP.error("Failed to delete access token: ".concat(e.message)):t(e,n,a)},...n})};var h=n(63294),m=n(2784),x=n(32079),f=n(62134),p=n(15735),j=n(74138),v=()=>{let{data:e,isLoading:t}=(0,h.h)(),{mutate:n}=u({onSuccess:()=>{l.ZP.success("Successfully deleted access token"),r(!1)}}),[s,r]=(0,m.useState)(!1),[i,o]=(0,m.useState)(void 0),c=async e=>n({id:e});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)(p.Z,{head:[(0,a.jsx)(p.Z.th,{children:"Token"},"header-token"),(0,a.jsx)(p.Z.th,{children:"Name"},"header-name"),(0,a.jsx)(p.Z.th,{children:"Created"},"header-created"),(0,a.jsx)(p.Z.th,{},"header-action")],body:e&&0==e.length?(0,a.jsx)(p.Z.tr,{children:(0,a.jsx)(p.Z.td,{colSpan:5,className:"p-3 py-12 text-center",children:(0,a.jsx)("p",{className:"text-foreground-light",children:t?"Checking for tokens":"You do not have any tokens created yet"})})}):(0,a.jsx)(a.Fragment,{children:null==e?void 0:e.map(e=>(0,a.jsxs)(p.Z.tr,{children:[(0,a.jsx)(p.Z.td,{children:(0,a.jsx)("span",{className:"font-mono",children:e.token_alias})}),(0,a.jsx)(p.Z.td,{children:e.name}),(0,a.jsx)(p.Z.td,{children:(0,a.jsx)("p",{children:new Date(e.created_at).toLocaleString()})}),(0,a.jsx)(p.Z.td,{children:(0,a.jsx)(x.z,{asChild:!0,type:"default",title:"Delete token",className:"px-1",onClick:()=>{o(e),r(!0)},icon:(0,a.jsx)(f.Z,{}),children:(0,a.jsx)("span",{})})})]},e.token_alias))})})}),(0,a.jsx)(j.Z,{visible:s,variant:"destructive",title:"Confirm to delete",confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>r(!1),onConfirm:()=>{i&&c(i.id)},children:(0,a.jsx)("p",{className:"py-4 text-sm text-foreground-light",children:'This action cannot be undone. Are you sure you want to delete "'.concat(null==i?void 0:i.name,'" token?')})})]})},g=n(24990),b=n(28879),y=n.n(b),N=n(48869),C=n(49893),w=n(91826),Z=n(59073),S=function(e){return(0,a.jsx)(Z.Z,{icon:w.Z,...e})},k=n(21079),_=function(e){return(0,a.jsx)(Z.Z,{icon:k.Z,...e})},z=n(82366),F=n(56006),L=n(13252),A=n(46666),O=n(41679),D=n(31310),T=n(36492),P=n(31696),I=n(71392);async function M(e,t){let{iso_timestamp_start:n,iso_timestamp_end:a}=e,{data:s,error:r}=await (0,P.U2)("/platform/profile/audit",{params:{query:{iso_timestamp_start:n,iso_timestamp_end:a}},signal:t});return r&&(0,P.S3)(r),s}let V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{iso_timestamp_start:n,iso_timestamp_end:a}=e;return(0,T.a)(I.c.auditLogs({date_start:n,date_end:a}),t=>{let{signal:n}=t;return M(e,n)},{...t})};var E=n(26198),Y=()=>{var e,t,n,s;let r=y()().utc().set("millisecond",0),[l,i]=(0,m.useState)(!0),[o,c]=(0,m.useState)({from:r.subtract(1,"day").toISOString(),to:r.toISOString()}),[d,u]=(0,m.useState)(),[h,f]=(0,m.useState)({projects:[]}),{data:j}=(0,E.Sy)(),{data:v}=(0,D.tl)(),{data:b,error:w,isLoading:Z,isSuccess:k,isError:T,isRefetching:P,refetch:I}=V({iso_timestamp_start:o.from,iso_timestamp_end:o.to});(0,m.useEffect)(()=>{let e=y()(o.from).diff(y()(o.to)),t=setInterval(()=>{let t=y()().utc().set("millisecond",0);c({from:t.add(e).toISOString(),to:t.toISOString()})},3e5);return()=>clearInterval(t)},[o.from,o.to]);let M=null!==(t=null==b?void 0:b.retention_period)&&void 0!==t?t:0,Y=null!==(n=null==b?void 0:b.result)&&void 0!==n?n:[],R=null==Y?void 0:null===(e=Y.sort((e,t)=>l?Number(new Date(t.occurred_at))-Number(new Date(e.occurred_at)):Number(new Date(e.occurred_at))-Number(new Date(t.occurred_at))))||void 0===e?void 0:e.filter(e=>h.projects.length>0?h.projects.includes(e.target.metadata.project_ref||""):e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-4 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-xs prose",children:"Filter by"}),(0,a.jsx)(A.E,{name:"Projects",options:null!=j?j:[],labelKey:"name",valueKey:"ref",activeOptions:h.projects,onSaveFilters:e=>f({...h,projects:e})}),(0,a.jsx)(L.M,{hideTime:!0,hideClear:!0,triggerButtonType:"dashed",triggerButtonTitle:"",from:o.from,to:o.to,minDate:y()().subtract(M,"days").toDate(),maxDate:y()().toDate(),onChange:e=>{if(null!==e.from&&null!==e.to){let t=y()().utc();c({from:y()(e.from).utc().hour(t.hour()).minute(t.minute()).second(t.second()).toISOString(),to:y()(e.to).utc().hour(t.hour()).minute(t.minute()).second(t.second()).toISOString()})}},renderFooter:()=>(0,a.jsxs)(N.b,{title:"",variant:"info",className:"mx-3 pl-2 pr-2 pt-1 pb-2",children:["You have a log retention period of"," ",(0,a.jsxs)("span",{className:"text-brand",children:[M," day",M>1?"s":""]}),". You may only view logs from"," ",y()().subtract(M,"days").format("DD MMM YYYY")," as the earliest date."]})}),k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-[20px] border-r border-strong !ml-4 !mr-2"}),(0,a.jsxs)("p",{className:"prose text-xs",children:["Viewing ",R.length," logs in total"]})]})]}),(0,a.jsx)(x.z,{type:"default",disabled:Z||P,icon:(0,a.jsx)(C.Z,{className:P?"animate-spin":""}),onClick:()=>I(),children:P?"Refreshing":"Refresh"})]}),Z&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(O.Z,{}),(0,a.jsx)(O.Z,{className:"w-3/4"}),(0,a.jsx)(O.Z,{className:"w-1/2"})]}),T&&(0,a.jsx)(F.Z,{error:w,subject:"Failed to retrieve audit logs"}),k&&(0,a.jsx)(a.Fragment,{children:0===Y.length?(0,a.jsx)("div",{className:"bg-surface-100 border rounded p-4 flex items-center justify-between",children:(0,a.jsx)("p",{className:"prose text-sm",children:"You do not have any audit logs available yet"})}):Y.length>0&&0===R.length?(0,a.jsx)("div",{className:"bg-surface-100 border rounded p-4 flex items-center justify-between",children:(0,a.jsx)("p",{className:"prose text-sm",children:"No audit logs found based on the filters applied"})}):(0,a.jsx)(p.Z,{head:[(0,a.jsx)(p.Z.th,{className:"py-2",children:"Action"},"action"),(0,a.jsx)(p.Z.th,{className:"py-2",children:"Target"},"target"),(0,a.jsx)(p.Z.th,{className:"py-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{children:"Date"}),(0,a.jsxs)(g.fC,{delayDuration:0,children:[(0,a.jsx)(g.xz,{asChild:!0,children:(0,a.jsx)(x.z,{type:"text",className:"px-1",icon:l?(0,a.jsx)(S,{strokeWidth:1.5,size:14}):(0,a.jsx)(_,{strokeWidth:1.5,size:14}),onClick:()=>i(!l)})}),(0,a.jsx)(g.h_,{children:(0,a.jsx)(g.h_,{children:(0,a.jsxs)(g.VY,{side:"right",children:[(0,a.jsx)(g.Eh,{className:"radix-tooltip-arrow"}),(0,a.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,a.jsx)("span",{className:"text-xs text-foreground",children:l?"Sort latest first":"Sort earliest first"})})]})})})]})]})},"date"),(0,a.jsx)(p.Z.th,{className:"py-2"},"actions")],body:null!==(s=null==R?void 0:R.map(e=>{var t,n,s,r,l,i,o;let c=null==j?void 0:j.find(t=>t.ref===e.target.metadata.project_ref),d=null==v?void 0:v.find(t=>t.slug===e.target.metadata.org_slug),h=(null===(t=e.action.metadata[0])||void 0===t?void 0:t.status)!==void 0;return(0,a.jsxs)(p.Z.tr,{onClick:()=>u(e),className:"cursor-pointer hover:!bg-alternative transition duration-100",children:[(0,a.jsx)(p.Z.td,{className:"max-w-[250px]",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[h&&(0,a.jsx)("p",{className:"bg-surface-200 rounded px-1 flex items-center justify-center text-xs font-mono border",children:e.action.metadata[0].status}),(0,a.jsx)("p",{className:"truncate",title:e.action.name,children:e.action.name})]})}),(0,a.jsxs)(p.Z.td,{children:[(0,a.jsxs)("p",{className:"text-foreground-light max-w-[230px] truncate",title:null!==(s=null!==(n=null==c?void 0:c.name)&&void 0!==n?n:null==d?void 0:d.name)&&void 0!==s?s:"-",children:[(null==c?void 0:c.name)?"Project: ":(null==d?void 0:d.name)?"Organization: ":null,null!==(l=null!==(r=null==c?void 0:c.name)&&void 0!==r?r:null==d?void 0:d.name)&&void 0!==l?l:"-"]}),(0,a.jsxs)("p",{className:"text-foreground-light text-xs mt-0.5 truncate",title:null!==(i=e.target.metadata.project_ref)&&void 0!==i?i:e.target.metadata.org_slug,children:[e.target.metadata.project_ref?"Ref: ":e.target.metadata.org_slug?"Slug: ":null,null!==(o=e.target.metadata.project_ref)&&void 0!==o?o:e.target.metadata.org_slug]})]}),(0,a.jsx)(p.Z.td,{children:y()(e.occurred_at).format("DD MMM YYYY, HH:mm:ss")}),(0,a.jsx)(p.Z.td,{align:"right",children:(0,a.jsx)(x.z,{type:"default",children:"View details"})})]},e.occurred_at)}))&&void 0!==s?s:[]})})]}),(0,a.jsx)(z.h,{selectedLog:d,onClose:()=>u(void 0)})]})},R=n(39097),B=n.n(R),G=n(34503),Q=n(43687),H=n(83690),U=n(62277),X=n(32830),W=n(750),J=n(41909);async function q(e){let{name:t,scope:n}=e,a=await (0,i.v_)("".concat(o.T5,"/profile/access-tokens"),{name:t,scope:n});if(!(0,i.d8)(a))throw a.error;return a}let K=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,s.NL)();return(0,r.D)(e=>q(e),{async onSuccess(t,n,s){await a.invalidateQueries(c.C.list()),await (null==e?void 0:e(t,n,s))},async onError(e,n,a){void 0===t?l.Am.error("Failed to create access token: ".concat(e.message)):t(e,n,a)},...n})};var $=e=>{let{onCreateToken:t}=e,[n,s]=(0,m.useState)(!1),[r,l]=(0,m.useState)(void 0),{mutate:i,isLoading:o}=K({onSuccess:e=>{t(e),s(!1)}}),c=async e=>{i({name:e.tokenName,scope:r})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"container max-w-7xl",children:(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.z,{className:"rounded-r-none px-3",onClick:()=>{l(void 0),s(!0)},children:"Generate new token"}),(0,a.jsxs)(G.h_,{children:[(0,a.jsx)(G.$F,{asChild:!0,children:(0,a.jsx)(x.z,{asChild:!0,type:"primary",className:"rounded-l-none px-[4px] py-[5px]",icon:(0,a.jsx)(Q.Z,{}),children:(0,a.jsx)("span",{})})}),(0,a.jsx)(G.AW,{align:"end",side:"bottom",children:(0,a.jsx)(G.Xi,{onClick:()=>{l("V0"),s(!0)},children:(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsx)("p",{className:"block text-foreground",children:"Generate token for experimental API"})})},"experimental-token")})]})]})})}),(0,a.jsx)(H.Z,{closable:!0,hideFooter:!0,size:"small",visible:n,onCancel:()=>s(!n),header:(0,a.jsx)("div",{className:"flex items-baseline gap-2",children:(0,a.jsx)("h5",{className:"text-sm text-foreground",children:"V0"===r?"Generate token for experimental API":"Generate New Token"})}),children:(0,a.jsx)(U.Z,{validateOnBlur:!0,initialValues:{tokenName:""},onSubmit:c,validate:e=>{let t={};return e.tokenName||(t.tokenName="Please enter a name for the token"),t},children:()=>(0,a.jsxs)(a.Fragment,{children:["V0"===r&&(0,a.jsx)(H.Z.Content,{children:(0,a.jsxs)(N.b,{withIcon:!0,variant:"warning",title:"The experimental API provides additional endpoints which allows you to manage your organizations and projects.",children:[(0,a.jsx)("p",{children:"These include deleting organizations and projects which cannot be undone. As such, be very careful when using this API."}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(x.z,{asChild:!0,type:"default",icon:(0,a.jsx)(X.Z,{strokeWidth:1.5}),children:(0,a.jsx)(B(),{href:"https://api.supabase.com/api/v0",target:"_blank",rel:"noreferrer",children:"Experimental API documentation"})})})]})}),(0,a.jsx)(H.Z.Content,{children:(0,a.jsx)(W.Z,{id:"tokenName",label:"Name",placeholder:"Provide a name for your token",className:"w-full"})}),(0,a.jsx)(J.cN,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,a.jsx)(x.z,{type:"default",disabled:o,onClick:()=>s(!1),children:"Cancel"}),(0,a.jsx)(x.z,{htmlType:"submit",loading:o,disabled:o,children:"Generate token"})]})})]})})})]})},ee=e=>{let{token:t}=e;return(0,a.jsx)(N.b,{withIcon:!0,variant:"success",title:"Successfully generated a new token!",children:(0,a.jsxs)("div",{className:"w-full space-y-2",children:[(0,a.jsx)("p",{className:"text-sm",children:"Do copy this access token and store it in a secure place - you will not be able to see it again."}),(0,a.jsx)(W.Z,{copy:!0,readOnly:!0,size:"small",className:"max-w-xl input-mono",value:t.token,onChange:()=>{}})]})})},et=n(95492),en=n(39459),ea=n(13048),es=n(61531),er=n(15555),el=n(97295);let ei=async e=>{let{error:t,data:n}=await el.I8.mfa.enroll(e);if(t)throw t;return n},eo=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.D)(e=>ei(e),{async onSuccess(t,n,a){await (null==e?void 0:e(t,n,a))},async onError(e,n,a){void 0===t?l.Am.error("Failed to enroll factor: ".concat(e.message)):t(e,n,a)},...n})},ec=async e=>{let{error:t,data:n}=await el.I8.mfa.unenroll(e);if(t)throw t;return n},ed=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,s.NL)();return(0,r.D)(e=>ec(e),{async onSuccess(t,n,s){await Promise.all([a.invalidateQueries(I.c.mfaFactors()),a.invalidateQueries(I.c.aaLevel())]),await (null==e?void 0:e(t,n,s))},async onError(e,n,a){void 0===t?l.Am.error("Failed to delete factor: ".concat(e.message)):t(e,n,a)},...n})},eu=e=>{let{visible:t,name:n,enroll:s,setName:r,isEnrolling:l,onClose:i}=e;return(0,a.jsx)(j.Z,{size:"medium",visible:t,title:"Add a new authenticator app as a factor",confirmLabel:"Generate QR",confirmLabelLoading:"Generating QR",disabled:0===n.length,loading:l,onCancel:i,onConfirm:()=>{s({factorType:"totp",friendlyName:n})},children:(0,a.jsx)(W.Z,{label:"Provide a name to identify this app",descriptionText:"A string will be randomly generated if a name is not provided",value:n,onChange:e=>r(e.target.value)})})},eh=e=>{let{visible:t,factorName:n,factor:s,isLoading:r,onSuccess:i,onClose:o}=e,[c,d]=(0,m.useState)(""),{mutate:u}=ed({onSuccess:()=>o()}),{mutate:h,isLoading:x}=(0,er.O)({onError:e=>{l.ZP.error("Failed to add a second factor authentication:  ".concat(null==e?void 0:e.message))},onSuccess:()=>{l.ZP.success("Successfully added a second factor authentication"),i()}}),[f,p]=(0,m.useState)(null);return(0,m.useEffect)(()=>{s&&(null==f?void 0:f.id)!==s.id&&p(s)},[s]),(0,a.jsx)(j.Z,{size:"medium",visible:t,title:"Verify new factor ".concat(n),confirmLabel:"Confirm",confirmLabelLoading:"Confirming",loading:x,onCancel:()=>{f&&u({factorId:f.id})},onConfirm:()=>f&&h({factorId:f.id,code:c}),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"py-4 pb-0 text-sm",children:(0,a.jsx)("span",{children:"Use an authenticator app to scan the following QR code, and provide the code from the app to complete the enrolment."})}),r&&(0,a.jsx)("div",{className:"pb-4 px-4",children:(0,a.jsx)(O.A,{})}),f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex justify-center py-6",children:(0,a.jsx)("div",{className:"h-48 w-48 bg-white rounded",children:(0,a.jsx)("img",{width:190,height:190,src:f.totp.qr_code,alt:f.totp.uri})})}),(0,a.jsx)("div",{children:(0,a.jsx)(es.Z,{title:"Unable to scan?",description:(0,a.jsx)(W.Z,{copy:!0,disabled:!0,id:"ref",size:"small",label:"You can also enter this secret key into your authenticator app",value:f.totp.secret})})}),(0,a.jsx)("div",{className:"pt-2 pb-4",children:(0,a.jsx)(W.Z,{label:"Authentication code",value:c,placeholder:"XXXXXX",onChange:e=>d(e.target.value)})})]})]})})};var em=e=>{let{visible:t,onClose:n}=e,[s,r]=(0,m.useState)("App ".concat(Math.floor(1e3*Math.random()))),{data:l,mutate:i,isLoading:o,reset:c}=eo();return(0,m.useEffect)(()=>{t||(r("App ".concat(Math.floor(1e3*Math.random()))),c())},[c,t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu,{visible:t&&!l,name:s,setName:r,enroll:i,isEnrolling:o,onClose:n}),(0,a.jsx)(eh,{visible:t&&!!l,factorName:s,factor:l,isLoading:o,onSuccess:()=>n(),onClose:n})]})},ex=e=>{let{visible:t,factorId:n,lastFactorToBeDeleted:s,onClose:r}=e,{mutate:i,isLoading:o}=ed({onSuccess:()=>{l.ZP.success("Successfully deleted factor"),r()}});return(0,a.jsxs)(j.Z,{size:"medium",visible:t,variant:"destructive",title:"Confirm to delete factor",confirmLabel:"Delete",confirmLabelLoading:"Deleting",loading:o,onCancel:r,onConfirm:()=>n&&i({factorId:n}),alert:{title:s?"Multi-factor authentication will be disabled":"This action cannot be undone",description:s?"There are no other factors that are set up once you delete this factor, as such your account will no longer be guarded by multi-factor authentication":"You will no longer be able to use this authenticator app for multi-factor authentication when signing in to the dashboard"},children:[(0,a.jsx)("p",{className:"text-sm",children:"Before deleting this factor, consider:"}),(0,a.jsx)("ul",{className:"text-sm text-foreground-light py-1 list-disc mx-4 space-y-1",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("li",{children:"Adding another authenticator app as a factor prior to deleting"}),(0,a.jsx)("li",{children:"Ensure that your account does not need multi-factor authentication"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("li",{children:"Your backup authenticator app is still available to use"}),(0,a.jsx)("li",{children:"Adding another authenticator app thereafter as a backup"})]})})]})},ef=()=>{let[e,t]=(0,m.useState)(!1),[n,s]=(0,m.useState)(null),{data:r,isLoading:l,isError:i,isSuccess:c,error:d}=(0,ea.U)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Generate one-time passwords via authenticator apps like 1Password, Authy, etc. as a second factor to verify your identity during sign-in."}),(0,a.jsxs)("div",{children:[l&&(0,a.jsx)(O.A,{}),i&&(0,a.jsx)(F.Z,{error:d,subject:"Failed to retrieve account security information"}),c&&(0,a.jsxs)(a.Fragment,{children:[1===r.totp.length&&(0,a.jsxs)(et.bZ,{variant:"default",className:"mb-2",children:[(0,a.jsx)(en.Z,{className:"h-4 w-4"}),(0,a.jsx)(et.Cd,{children:"We recommend configuring two authenticator apps across different devices"}),(0,a.jsx)(et.X,{className:"flex flex-col gap-3",children:"The two authenticator apps will serve as a backup for each other."})]}),(0,a.jsx)("div",{children:r.totp.map(e=>{var t;return(0,a.jsxs)("div",{className:"flex flex-row justify-between py-2",children:[(0,a.jsxs)("p",{className:"text-sm text-foreground flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-foreground-light",children:"Name:"})," ",(0,a.jsx)("span",{children:null!==(t=e.friendly_name)&&void 0!==t?t:"No name provided"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["Added on ",y()(e.updated_at).format(o.Cu)]}),(0,a.jsx)(x.z,{size:"tiny",type:"default",onClick:()=>s(e.id),children:"Remove"})]})]},e.id)})}),r.totp.length<2?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)(x.z,{onClick:()=>t(!0),children:"Add new app"})})}):null]})]})]}),(0,a.jsx)(em,{visible:e,onClose:()=>t(!1)}),(0,a.jsx)(ex,{visible:null!==n,factorId:n,lastFactorToBeDeleted:(null==r?void 0:r.totp.length)===1,onClose:()=>s(null)})]})}},82366:function(e,t,n){n.d(t,{h:function(){return u}});var a=n(52322),s=n(28879),r=n.n(s),l=n(4787),i=n(31310),o=n(26198),c=n(49251),d=n(750),u=e=>{let{selectedLog:t,onClose:n}=e,{data:s}=(0,o.Sy)(),{data:u}=(0,i.tl)();return null==s||s.find(e=>e.ref===(null==t?void 0:t.target.metadata.project_ref)),null==u||u.find(e=>e.slug===(null==t?void 0:t.target.metadata.org_slug)),(0,a.jsxs)(c.ZP,{size:"large",header:'"'.concat(null==t?void 0:t.action.name,'" on ').concat(r()(null==t?void 0:t.occurred_at).format("DD MMM YYYY, HH:mm:ss")),visible:void 0!==t,onCancel:n,cancelText:"Close",children:[(0,a.jsx)(l.hj,{header:(0,a.jsx)(l.S0,{children:"General"}),children:(0,a.jsx)(l.B4,{loading:!1,children:(0,a.jsx)(d.Z,{readOnly:!0,size:"small",label:"Occurred at",value:null==t?void 0:t.occurred_at,descriptionText:r()(null==t?void 0:t.occurred_at).format("DD MMM YYYY, HH:mm:ss (ZZ)")})})}),(0,a.jsx)(c.ZP.Separator,{}),(0,a.jsx)(l.hj,{header:(0,a.jsx)(l.S0,{children:"Actor"}),children:(0,a.jsxs)(l.B4,{loading:!1,children:[(0,a.jsx)(d.Z,{readOnly:!0,size:"small",label:"Actor ID",value:null==t?void 0:t.actor.id}),(0,a.jsx)(d.Z.TextArea,{readOnly:!0,size:"small",label:"Metadata",rows:5,className:"input-mono input-xs",value:JSON.stringify(null==t?void 0:t.actor.metadata,null,2)})]})}),(0,a.jsx)(c.ZP.Separator,{}),(0,a.jsx)(l.hj,{header:(0,a.jsx)(l.S0,{children:"Action"}),children:(0,a.jsxs)(l.B4,{loading:!1,children:[(0,a.jsx)(d.Z,{readOnly:!0,size:"small",label:"Name",value:null==t?void 0:t.action.name}),(0,a.jsx)(d.Z.TextArea,{readOnly:!0,size:"small",label:"Metadata",rows:5,className:"input-mono input-xs",value:JSON.stringify(null==t?void 0:t.action.metadata,null,2)})]})}),(0,a.jsx)(c.ZP.Separator,{}),(0,a.jsx)(l.hj,{header:(0,a.jsx)(l.S0,{children:"Target"}),children:(0,a.jsxs)(l.B4,{loading:!1,children:[(0,a.jsx)(d.Z,{readOnly:!0,size:"small",label:"Name",value:null==t?void 0:t.target.description}),(0,a.jsx)(d.Z.TextArea,{readOnly:!0,size:"small",label:"Metadata",rows:5,className:"input-mono input-xs",value:JSON.stringify(null==t?void 0:t.target.metadata,null,2)})]})})]})}},15735:function(e,t,n){var a=n(52322);function s(e){let{body:t,head:n,className:s,containerClassName:r,borderless:l,headTrClasses:i,bodyClassName:o,style:c}=e,d=["table-container"];r&&d.push(r),l&&d.push("table-container--borderless");let u=["table"];return s&&u.push(s),(0,a.jsx)("div",{className:d.join(" "),children:(0,a.jsxs)("table",{className:u.join(" "),style:c,children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{className:i,children:n})}),(0,a.jsx)("tbody",{className:o,children:t})]})})}s.th=e=>{let{children:t,className:n,style:s}=e,r=["p-3 px-4 text-left"];return n&&r.push(n),(0,a.jsx)("th",{className:r.join(" "),style:s,children:t})},s.td=e=>{let{children:t,colSpan:n,className:s,style:r,...l}=e;return(0,a.jsx)("td",{className:s,colSpan:n,style:r,...l,children:t})},s.tr=e=>{let{children:t,className:n,onClick:s,style:r,hoverable:l}=e,i=[n];return(s||l)&&i.push("tr--link"),(0,a.jsx)("tr",{className:i.join(" "),onClick:s,style:r,children:t})},t.Z=s},46666:function(e,t,n){n.d(t,{E:function(){return c}});var a=n(52322),s=n(2784),r=n(10012),l=n(19869),i=n(12934),o=n(32079);let c=e=>{let{options:t=[],activeOptions:n=[],valueKey:c,labelKey:d,name:u="default",variant:h="rectangular",onSaveFilters:m,disabled:x}=e,[f,p]=(0,s.useState)(!1),[j,v]=(0,s.useState)([]),g=n.map(e=>{let n=t.find(t=>t[c]===e);return n&&n[d]?n[d]:""});return(0,a.jsx)(r.Z,{side:"bottom",align:"start",disabled:x,open:f,onOpenChange:()=>p(!f),header:(0,a.jsxs)("div",{className:"prose text-xs",children:["Select ",u.toLowerCase()]}),overlay:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"space-y-4 min-w-[170px]",children:(0,a.jsx)(l.x,{className:t.length>7?"h-[205px]":"",children:(0,a.jsx)(i.Z.Group,{className:"px-3 py-3",id:"projects",onChange:e=>{let t=e.target.value;j.includes(t)?v(j.filter(e=>e!==t)):v(j.concat(t))},options:t.map(e=>({value:e[c],label:e[d],defaultChecked:n.includes(e[c])}))})})}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2 border-t border-overlay bg-surface-200 py-2 px-3",children:[(0,a.jsx)(o.z,{size:"tiny",type:"default",onClick:()=>{m([]),p(!1)},children:"Clear"}),(0,a.jsx)(o.z,{type:"primary",onClick:()=>{m(j),p(!1)},children:"Save"})]})]}),children:(0,a.jsx)(o.z,{asChild:!0,type:n.length>0?"default":"dashed",onClick:()=>p(!1),className:"rounded"===h?"rounded-full":"",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:u}),n.length>0&&(0,a.jsx)("span",{className:"mr-1",children:":"}),n.length>=3?(0,a.jsxs)("span",{children:[g[0]," and ",n.length-1," others"]}):n.length>0?(0,a.jsx)("span",{children:g.join(", ")}):null]})})})}},70987:function(e,t,n){n.d(t,{p:function(){return d}});var a=n(52322),s=n(17172),r=n(39097),l=n.n(r),i=n(14048),o=n(80435),c=n(32079);let d=e=>{let{title:t,description:n,docsUrl:r,actions:d,className:u}=e;return(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between ".concat(u),children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-foreground text-xl",children:(0,a.jsx)(i.D,{unwrapDisallowed:!0,disallowedElements:["p"],children:t})}),n&&(0,a.jsx)(o.U,{content:n,className:"max-w-full"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[void 0!==r&&(0,a.jsx)(c.z,{asChild:!0,type:"default",icon:(0,a.jsx)(s.Z,{size:14}),children:(0,a.jsx)(l(),{href:r,target:"_blank",rel:"noreferrer",children:"Documentation"})}),d]})]})}},4787:function(e,t,n){n.d(t,{B4:function(){return o},S0:function(){return l},hj:function(){return r}});var a=n(52322),s=n(2784);let r=e=>{let{children:t,id:n,header:s,disabled:r,className:l}=e;return(0,a.jsxs)("div",{id:n,className:["grid grid-cols-12 gap-6 px-8 py-8","".concat(r?" opacity-30":" opacity-100"),"".concat(l)].join(" "),children:[s,t]})},l=e=>{let{children:t,className:n="",description:s}=e;return void 0!==s?(0,a.jsxs)("div",{className:"flex flex-col space-y-2 col-span-12 lg:col-span-5 ".concat(n),children:[(0,a.jsx)("label",{className:"text-foreground text-sm",children:t}),s]}):(0,a.jsx)("label",{className:"text-foreground col-span-12 text-sm lg:col-span-5 ".concat(n),children:t})},i=()=>(0,a.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,a.jsx)("div",{className:"shimmering-loader h-2 w-1/3 rounded"}),(0,a.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,a.jsx)("div",{className:"shimmering-loader h-[34px] w-2/3 rounded"})})]}),o=e=>{let{children:t,loading:n=!0,fullWidth:r,className:l}=e;return(0,a.jsx)("div",{className:"\n        relative col-span-12 flex flex-col gap-6 lg:col-span-7\n        ".concat(r&&"!col-span-12","\n        ").concat(l,"\n      "),children:n?s.Children.map(t,()=>(0,a.jsx)(i,{})):t})}},61531:function(e,t,n){var a=n(52322),s=n(39097),r=n.n(s),l=n(2784),i=n(84797),o=n(4582),c=n(32079),d=n(32830);t.Z=e=>{let{icon:t,title:n,description:s,url:u,urlLabel:h="Read more",defaultVisibility:m=!1,hideCollapse:x=!1,button:f,className:p="",block:j=!1}=e,[v,g]=(0,l.useState)(m);return(0,a.jsx)("div",{className:"".concat(j?"block w-full":"","\n      block w-full rounded border bg-surface-200 py-3 ").concat(p),children:(0,a.jsxs)("div",{className:"flex flex-col px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[t&&(0,a.jsx)("span",{className:"text-foreground-lighter",children:t}),(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)("h5",{className:"text-sm text-foreground",children:n})})]}),s&&!x?(0,a.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>g(!v),children:v?(0,a.jsx)(i.Z,{size:14,strokeWidth:1.5}):(0,a.jsx)(o.Z,{size:14,strokeWidth:1.5})}):null]}),(s||u||f)&&(0,a.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(v?"mt-3":""),style:{maxHeight:v?500:0},children:[(0,a.jsx)("div",{className:"text-foreground-light text-sm",children:s}),u&&(0,a.jsx)("div",{children:(0,a.jsx)(c.z,{asChild:!0,type:"default",icon:(0,a.jsx)(d.Z,{}),children:(0,a.jsx)(r(),{href:u,target:"_blank",rel:"noreferrer",children:h})})}),f&&(0,a.jsx)("div",{children:f})]})]})})}},63294:function(e,t,n){n.d(t,{h:function(){return o}});var a=n(36492),s=n(88354),r=n(99248),l=n(22066);async function i(e){let t=await (0,s.U2)("".concat(r.T5,"/profile/access-tokens"),{signal:e});if(!(0,s.d8)(t))throw t.error;return t}let o=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.a)(l.C.list(),e=>{let{signal:t}=e;return i(t)},t)}},22066:function(e,t,n){n.d(t,{C:function(){return a}});let a={list:()=>["access-tokens"]}},70295:function(e,t,n){n.d(t,{S:function(){return l},V:function(){return i}});var a=n(36492),s=n(97295),r=n(71392);async function l(){let{error:e,data:t}=await s.I8.mfa.getAuthenticatorAssuranceLevel();if(e)throw e;return t}let i=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.a)(r.c.aaLevel(),()=>l(),{staleTime:18e5,...t})}},15555:function(e,t,n){n.d(t,{O:function(){return u}});var a=n(92642),s=n(85945),r=n(48228),l=n(62202),i=n(97295),o=n(71392);let c=["Invalid TOTP code entered"],d=async e=>{let{error:t,data:n}=await i.I8.mfa.challengeAndVerify(e);if(t)throw t;return n},u=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,s.NL)();return(0,r.D)(e=>{let{refreshFactors:t,...n}=e;return d(n)},{async onSuccess(t,n,a){var s;let r=null===(s=n.refreshFactors)||void 0===s||s;await Promise.all([...r?[i.invalidateQueries(o.c.mfaFactors())]:[],i.invalidateQueries(o.c.aaLevel())]),await (null==e?void 0:e(t,n,a))},async onError(e,n,s){void 0===t?l.ZP.error("Failed to sign in: ".concat(e.message)):t(e,n,s),c.some(t=>e.message.includes(t))||a.uT("[CRITICAL] Failed to sign in via MFA: "+e.message)},...n})}},13048:function(e,t,n){n.d(t,{U:function(){return i}});var a=n(36492),s=n(97295),r=n(71392);async function l(){let{error:e,data:t}=await s.I8.mfa.listFactors();if(e)throw e;return t}let i=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.a)(r.c.mfaFactors(),()=>l(),{staleTime:18e5,...t})}},99445:function(e,t,n){n.d(t,{Z:function(){return a}});let a={usage:e=>["projects",e,"usage"],orgUsage:(e,t,n,a)=>["organizations",e,"usage",t,n,a],resourceWarnings:()=>["projects","resource-warnings"]}},82718:function(e,t,n){n.d(t,{v:function(){return i}});var a=n(36492),s=n(31696),r=n(99445);async function l(e,t){let{orgSlug:n,projectRef:a,start:r,end:l}=e;if(!n)throw Error("orgSlug is required");let{data:i,error:o}=await (0,s.U2)("/platform/organizations/{slug}/usage",{params:{path:{slug:n},query:{project_ref:a,start:null==r?void 0:r.toISOString(),end:null==l?void 0:l.toISOString()}},signal:t});return o&&(0,s.S3)(o),i}let i=function(e){let{orgSlug:t,projectRef:n,start:s,end:i}=e,{enabled:o=!0,...c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.a)(r.Z.orgUsage(t,n,null==s?void 0:s.toISOString(),null==i?void 0:i.toISOString()),e=>{let{signal:a}=e;return l({orgSlug:t,projectRef:n,start:s,end:i},a)},{enabled:o&&void 0!==t,...c})}},3373:function(e,t,n){n.d(t,{Q:function(){return u}});var a=n(52322),s=n(5632),r=n(2784),l=n(62202),i=n(96551),o=n(70295),c=n(33750),d=n(99248);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{useHighestAAL:!0};if(!d.Qy)return e;let n=n=>{let d=(0,s.useRouter)(),{isLoading:u,session:h}=(0,c.aC)(),{isLoading:m,data:x}=(0,o.V)({onError(e){l.ZP.error("Failed to fetch authenticator assurance level: ".concat(e.message,". Try refreshing your browser, or reach out to us via a support ticket if the issue persists"))}});(0,i.j)({onError(e){l.ZP.error("Failed to fetch permissions: ".concat(e.message,". Try refreshing your browser, or reach out to us via a support ticket if the issue persists"))}});let f=!!h,p=!u&&!m;return(0,r.useEffect)(()=>{let e=!t.useHighestAAL||(null==x?void 0:x.currentLevel)===(null==x?void 0:x.nextLevel);if(p&&(!f||!e)){let e=new URLSearchParams(location.search),t=location.pathname;t=t.replace("/dashboard",""),e.set("returnTo",t),d.push("/sign-in?".concat(e.toString()))}},[h,u,d,x,p,f]),(0,a.jsx)(e,{...n})};return n.displayName="withAuth(".concat(e.displayName,")"),"getLayout"in e&&"function"==typeof e.getLayout&&(n.getLayout=e.getLayout),n}},74138:function(e,t,n){var a=n(52322),s=n(2784),r=n(41909),l=n(54383),i=n(32079),o=n(71550);let c=(0,s.forwardRef)((e,t)=>{let{title:n,size:c="small",visible:d,onCancel:u,onConfirm:h,loading:m=!1,cancelLabel:x="Cancel",confirmLabel:f="Submit",confirmLabelLoading:p,alert:j,children:v,variant:g="default",disabled:b,...y}=e;(0,s.useEffect)(()=>{d&&C(!1)},[d]),(0,s.useEffect)(()=>{C(m)},[m]);let[N,C]=(0,s.useState)(!1);return(0,a.jsx)(r.Vq,{open:d,...y,onOpenChange:()=>{d&&u()},children:(0,a.jsxs)(r.cZ,{ref:t,className:"p-0 gap-0 pb-5 !block",size:c,children:[(0,a.jsx)(r.fK,{className:(0,l.cn)("border-b"),padding:"small",children:(0,a.jsx)(r.$N,{className:"",children:n})}),j&&(0,a.jsx)(o.J,{type:g,label:j.title,description:j.description,className:"border-r-0 border-l-0 rounded-none -mt-px [&_svg]:ml-0.5 mb-0",...null==j?void 0:j.base}),v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.VO,{padding:"small",children:v}),(0,a.jsx)(r.P3,{})]}),(0,a.jsxs)("div",{className:"flex gap-2 px-5 pt-5",children:[(0,a.jsx)(i.z,{size:"medium",block:!0,type:"default",disabled:N,onClick:()=>u(),children:x}),(0,a.jsx)(i.z,{block:!0,size:"medium",type:"destructive"===g?"danger":"warning"===g?"warning":"primary",htmlType:"submit",loading:N,disabled:N||b,onClick:e=>{e.preventDefault(),e.stopPropagation(),C(!0),h()},className:"truncate",children:f})]})]})})});c.displayName="ConfirmationModal",t.Z=c},71550:function(e,t,n){n.d(t,{J:function(){return m}});var a=n(52322),s=n(10929),r=n(2784),l=n(54383),i=n(95492);let o={note:"default",tip:"default",caution:"warning",danger:"destructive",deprecation:"warning",default:"default",warning:"warning",destructive:"destructive"},c=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 20",className:"w-6 h-6",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.625 9.8252C0.625 4.44043 4.99023 0.0751953 10.375 0.0751953C15.7598 0.0751953 20.125 4.44043 20.125 9.8252C20.125 15.21 15.7598 19.5752 10.375 19.5752C4.99023 19.5752 0.625 15.21 0.625 9.8252ZM9.3584 4.38135C9.45117 4.28857 9.55518 4.20996 9.66699 4.14648C9.88086 4.02539 10.1245 3.96045 10.375 3.96045C10.5845 3.96045 10.7896 4.00586 10.9766 4.09229C11.1294 4.1626 11.2705 4.26025 11.3916 4.38135C11.6611 4.65088 11.8125 5.0166 11.8125 5.39795C11.8125 5.5249 11.7959 5.6499 11.7637 5.77002C11.6987 6.01172 11.5718 6.23438 11.3916 6.41455C11.1221 6.68408 10.7563 6.83545 10.375 6.83545C9.99365 6.83545 9.62793 6.68408 9.3584 6.41455C9.08887 6.14502 8.9375 5.7793 8.9375 5.39795C8.9375 5.29492 8.94873 5.19287 8.97021 5.09375C9.02783 4.82568 9.16162 4.57812 9.3584 4.38135ZM10.375 15.6899C10.0933 15.6899 9.82275 15.5781 9.62354 15.3789C9.42432 15.1797 9.3125 14.9092 9.3125 14.6274V9.31494C9.3125 9.0332 9.42432 8.7627 9.62354 8.56348C9.82275 8.36426 10.0933 8.25244 10.375 8.25244C10.6567 8.25244 10.9272 8.36426 11.1265 8.56348C11.3257 8.7627 11.4375 9.0332 11.4375 9.31494V14.6274C11.4375 14.7944 11.3979 14.9575 11.3242 15.104C11.2739 15.2046 11.2075 15.2979 11.1265 15.3789C10.9272 15.5781 10.6567 15.6899 10.375 15.6899Z"})}),d=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 20",className:"w-6 h-6",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.15137 1.95117C9.30615 -0.0488281 12.1943 -0.0488281 13.3481 1.95117L20.7031 14.6992C21.8574 16.6992 20.4131 19.1992 18.104 19.1992H3.39502C1.08594 19.1992 -0.356933 16.6992 0.797364 14.6992L8.15137 1.95117ZM11.7666 16.0083C11.4971 16.2778 11.1313 16.4292 10.75 16.4292C10.3687 16.4292 10.0029 16.2778 9.7334 16.0083C9.46387 15.7388 9.3125 15.373 9.3125 14.9917C9.3125 14.9307 9.31641 14.8706 9.32373 14.811C9.33545 14.7197 9.35547 14.6304 9.38379 14.5439L9.41406 14.4609C9.48584 14.2803 9.59375 14.1147 9.7334 13.9751C10.0029 13.7056 10.3687 13.5542 10.75 13.5542C11.1313 13.5542 11.4971 13.7056 11.7666 13.9751C12.0361 14.2446 12.1875 14.6104 12.1875 14.9917C12.1875 15.373 12.0361 15.7388 11.7666 16.0083ZM10.75 4.69971C11.0317 4.69971 11.3022 4.81152 11.5015 5.01074C11.7007 5.20996 11.8125 5.48047 11.8125 5.76221V11.0747C11.8125 11.3564 11.7007 11.627 11.5015 11.8262C11.3022 12.0254 11.0317 12.1372 10.75 12.1372C10.4683 12.1372 10.1978 12.0254 9.99854 11.8262C9.79932 11.627 9.6875 11.3564 9.6875 11.0747V5.76221C9.6875 5.48047 9.79932 5.20996 9.99854 5.01074C10.1978 4.81152 10.4683 4.69971 10.75 4.69971Z"})}),u=(0,s.j)("",{variants:{type:{default:"[&_svg]:bg-foreground-muted [&_svg]:text-background-muted",warning:"[&_svg]:bg-warning [&_svg]:text-warning-100",destructive:"[&_svg]:bg-destructive [&_svg]:text-white"}}}),h=(0,s.j)("",{variants:{type:{default:"bg-surface-200/25 border border-default",warning:"bg-alternative border border-default ![&_p]:text-background-muted",destructive:"bg-alternative border border-default"}}}),m=(0,r.forwardRef)((e,t)=>{var n,s,r,m,x,f,p,j;let{type:v="note",variant:g,showIcon:b=!0,label:y,title:N,description:C,children:w,...Z}=e,S=g?o[g]:o[v];return(0,a.jsxs)(i.bZ,{ref:t,variant:S,...Z,className:(0,l.cn)("mb-2",u({type:S}),h({type:S}),Z.className),children:[b&&"warning"===S||"destructive"===S?(0,a.jsx)(d,{}):(0,a.jsx)(c,{}),y||N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Cd,{...null===(n=Z.childProps)||void 0===n?void 0:n.title,className:(0,l.cn)("text mt-0.5 flex gap-3 text-sm [&_p]:mb-1.5 [&_p]:mt-0",!y&&"flex-col",null===(r=Z.childProps)||void 0===r?void 0:null===(s=r.title)||void 0===s?void 0:s.className),children:y||N}),C&&(0,a.jsx)(i.X,{className:null===(x=Z.childProps)||void 0===x?void 0:null===(m=x.description)||void 0===m?void 0:m.className,children:C}),w&&(0,a.jsx)(i.X,{...null===(f=Z.childProps)||void 0===f?void 0:f.description,className:(0,l.cn)("mt-3 [&_p]:mb-1.5 [&_p]:mt-0",null===(j=Z.childProps)||void 0===j?void 0:null===(p=j.description)||void 0===p?void 0:p.className),children:w})]}):(0,a.jsx)("div",{className:"text mt [&_p]:mb-1.5 [&_p]:mt-0 mt-0.5 [&_p:last-child]:mb-0",children:w})]})})},12934:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(52322),s=n(2784),r=n(25001),l=n(46318),i=n(70780);let o=(0,s.createContext)({parentCallback:e=>{},parentSize:""});function c(e){let{className:t,id:n="",name:s="",label:r,afterLabel:c,beforeLabel:d,description:u,checked:h,value:m,onChange:x,onBlur:f,size:p="medium",disabled:j=!1,...v}=e,{formContextOnChange:g,values:b,handleBlur:y}=(0,i.G)(),N=(0,l.Z)("checkbox");return(0,a.jsx)(o.Consumer,{children:e=>{let{parentCallback:l,parentSize:i}=e,o=n||s||(r?r.toLowerCase().replace(/^[^A-Z0-9]+/gi,"").replace(/ /g,"-"):void 0);p=i||p;let C=s||o,w=null!=h?h:void 0,Z=[N.container];return t&&Z.push(t),b&&void 0===h&&(w=b[n||s]),(0,a.jsxs)("div",{className:Z.join(" "),children:[(0,a.jsx)("input",{id:o,name:C,type:"checkbox",className:[N.base,N.size[p]].join(" "),onChange:function(e){l&&l(e),x&&x(e),g&&g(e)},onBlur:function(e){y&&setTimeout(()=>{y(e)},100),f&&f(e)},checked:w,value:m||o,disabled:j,...v}),(0,a.jsxs)("label",{className:[N.label.base,N.label[p]].join(" "),htmlFor:o,children:[(0,a.jsxs)("span",{children:[d&&(0,a.jsx)("span",{className:[N.label_before.base,N.label_before[p]].join(" "),children:d}),r,c&&(0,a.jsx)("span",{className:[N.label_after.base,N.label_after[p]].join(" "),children:c})]}),u&&(0,a.jsx)("p",{className:[N.description.base,N.description[p]].join(" "),children:u})]})]})}})}c.Group=function(e){let{id:t,layout:n="vertical",error:s,descriptionText:i,label:d,afterLabel:u,beforeLabel:h,labelOptional:m,children:x,className:f,options:p,onChange:j,size:v="medium"}=e,g=(0,l.Z)("checkbox");return(0,a.jsx)(r.l,{label:d,afterLabel:u,beforeLabel:h,labelOptional:m,layout:n,id:t,error:s,descriptionText:i,className:f,size:v,children:(0,a.jsx)(o.Provider,{value:{parentCallback:e=>{j&&j(e)},parentSize:v},children:(0,a.jsx)("div",{className:g.group,children:p?p.map(e=>(0,a.jsx)(c,{id:e.id,value:e.value,label:e.label,beforeLabel:e.beforeLabel,afterLabel:e.afterLabel,checked:e.checked,name:e.name,description:e.description,defaultChecked:e.defaultChecked},e.id)):x})})})};var d=c},62277:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(52322),s=n(2784),r=n(5373),l=n(70780);function i(e,t){if(!t.error)return delete e[t.key],e;if(t)return{...e,[t.key]:t.error};throw Error()}function o(e){let{validate:t,...n}=e,[o,c]=(0,s.useReducer)(i,null),d=(0,r.TA)({validateOnBlur:!0,...n,validationSchema:n.validationSchema,initialValues:n.initialValues,onSubmit:n.onSubmit,validate:t||function(){return o}});return(0,a.jsx)("form",{id:n.id,name:n.name,onSubmit:d.handleSubmit,className:n.className,style:n.style,method:"POST",children:(0,a.jsx)(l.o,{values:d.values,errors:d.errors,formContextOnChange:d.handleChange,handleBlur:d.handleBlur,touched:d.touched,fieldLevelValidation:function(e,t){c({key:e,error:t})},children:n.children({errors:d.errors,touched:d.touched,isSubmitting:d.isSubmitting,isValidating:d.isValidating,submitCount:d.submitCount,initialValues:d.initialValues,values:d.values,handleReset:d.handleReset,resetForm:d.resetForm,setFieldValue:d.setFieldValue})})})}},78804:function(e,t,n){var a=n(52322);n(2784);var s=n(65572),r=n(59073);t.Z=function(e){return(0,a.jsx)(r.Z,{icon:s.Z,...e})}},37952:function(e,t,n){var a=n(52322);n(2784);var s=n(1724),r=n(59073);t.Z=function(e){return(0,a.jsx)(r.Z,{icon:s.Z,...e})}},57677:function(e,t,n){var a=n(52322);n(2784);var s=n(81166),r=n(59073);t.Z=function(e){return(0,a.jsx)(r.Z,{icon:s.Z,...e})}},43687:function(e,t,n){var a=n(52322);n(2784);var s=n(95271),r=n(59073);t.Z=function(e){return(0,a.jsx)(r.Z,{icon:s.Z,...e})}},52253:function(e,t,n){var a=n(52322);n(2784);var s=n(95157),r=n(59073);t.Z=function(e){return(0,a.jsx)(r.Z,{icon:s.Z,...e})}},52905:function(e,t,n){var a=n(52322);n(2784);var s=n(65),r=n(59073);t.Z=function(e){return(0,a.jsx)(r.Z,{icon:s.Z,...e})}},4582:function(e,t,n){var a=n(52322);n(2784);var s=n(12570),r=n(59073);t.Z=function(e){return(0,a.jsx)(r.Z,{icon:s.Z,...e})}},84797:function(e,t,n){var a=n(52322);n(2784);var s=n(90706),r=n(59073);t.Z=function(e){return(0,a.jsx)(r.Z,{icon:s.Z,...e})}},49893:function(e,t,n){var a=n(52322);n(2784);var s=n(88951),r=n(59073);t.Z=function(e){return(0,a.jsx)(r.Z,{icon:s.Z,...e})}},62134:function(e,t,n){var a=n(52322);n(2784);var s=n(59461),r=n(59073);t.Z=function(e){return(0,a.jsx)(r.Z,{icon:s.Z,...e})}},49251:function(e,t,n){var a=n(52322),s=n(70241);n(2784);var r=n(32079),l=n(2322),i=n(46318);let o=e=>{let{id:t,disabled:n,className:o,children:c,header:d,visible:u,open:h,size:m="medium",loading:x,align:f="right",hideFooter:p=!1,customFooter:j,onConfirm:v,onCancel:g,confirmText:b="Confirm",cancelText:y="Cancel",triggerElement:N,defaultOpen:C,tooltip:w,...Z}=e,S=(0,i.Z)("sidepanel"),k=j||(0,a.jsxs)("div",{className:S.footer,children:[(0,a.jsx)("div",{children:(0,a.jsx)(r.z,{disabled:x,type:"default",onClick:()=>g?g():null,children:y})}),void 0!==v&&(0,a.jsxs)(l.u,{children:[(0,a.jsx)(l.aJ,{asChild:!0,children:(0,a.jsx)(r.z,{htmlType:"submit",disabled:n||x,loading:x,onClick:()=>v?v():null,children:b})}),void 0!==w&&(0,a.jsx)(l._v,{side:"bottom",children:w})]})]});return h=h||u,(0,a.jsxs)(s.fC,{open:h,onOpenChange:function(e){void 0!==u&&!e&&g&&g()},defaultOpen:C,children:[N&&(0,a.jsx)(s.xz,{asChild:!0,className:S.trigger,children:N}),(0,a.jsxs)(s.h_,{children:[(0,a.jsx)(s.aV,{className:S.overlay}),(0,a.jsxs)(s.VY,{className:[S.base,S.size[m],S.align[f],o&&o].join(" "),onOpenAutoFocus:Z.onOpenAutoFocus,onCloseAutoFocus:Z.onCloseAutoFocus,onEscapeKeyDown:Z.onEscapeKeyDown,onPointerDownOutside:Z.onPointerDownOutside,onInteractOutside:e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.closest("#toast"))&&e.preventDefault(),Z.onInteractOutside&&Z.onInteractOutside(e)},children:[d&&(0,a.jsx)("header",{className:S.header,children:d}),(0,a.jsx)("div",{className:S.contents,children:c}),!p&&k]})]})]})};o.Content=function(e){let{children:t,className:n}=e,s=(0,i.Z)("sidepanel");return(0,a.jsx)("div",{className:[s.content,n].join(" ").trim(),children:t})},o.Separator=function(){let e=(0,i.Z)("sidepanel");return(0,a.jsx)("div",{className:e.separator})},t.ZP=o}}]);